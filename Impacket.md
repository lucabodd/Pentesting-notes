---
title: Impacket
created: '2020-03-22T18:13:03.862Z'
modified: '2020-03-25T23:20:13.237Z'
---

# Impacket
In this page will be explained basics of enumeration with impacket tools

## GetNPUsers.py
This script will attempt to list and get TGTs for those users that have the property 'Do not require Kerberos preauthentication' set (UF_DONT_REQUIRE_PREAUTH).
Example of enumeration

```python GetNPUsers.py [DOMAIN]/ -no-pass -format john -outputfile krb_hash.txt -usersfile users.txt```

```users.txt``` contains list of users to be enumerated.

## secretsdump.py
Performs various techniques to dump hashes from the remote machine without executing any agent there. 
Given hash (domain\uid:rid:lmhash:nthash) can be used in hashcat mode 1000, john or can be used directly for login (see evil-winrm).
A usage example might be the following:
```python secretsdump.py [DOMAIN]/[user]:[password]@[ip]```
